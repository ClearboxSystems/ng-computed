/*! ng-computed 0.0.5 */!function(){"use strict";angular.module("ngComputed",["ng"]),angular.module("ngComputed").factory("$batchedWatch",["$rootScope",function(a){var b=a.$watch,c=function(a){setTimeout(function(){throw a},0)},d=1,e=function(a,e,f,g){var h=a[f],i=h[e];if(i){var j=i.lastArgs;if(j&&!j.registering){j.registering=!0;try{g.apply(j.self,j.args)}catch(k){c(k)}delete j.registering}}else i={fns:{}},i.deregister=b.call(this,e,function(){var a=this,b=arguments;angular.forEach(i.fns,function(d){try{d.apply(a,b)}catch(e){c(e)}}),i.lastArgs={self:a,args:b}},f),h[e]=i;var l=d++;return a[f][e].fns[l]=g,l},f=function(a){for(var b in a)return!1;return!0},g=function(a,b,c,d){var e=a[c];if(e[b]){var g=e[b],h=g.fns;delete h[d],f(h)&&(g.deregister(),delete a[c][b])}},h=function(a,c,d){var f=this;if(d=!!d,angular.isFunction(a))return b.call(this,a,c,d);var h;h=this.hasOwnProperty("$$batchedWatchers")?this.$$batchedWatchers:{"true":{},"false":{}};var i=e.call(f,h,a,d,c),j=function(){g.call(f,h,a,d,i)};return this.$$batchedWatchers=h,j};return h}]),angular.module("ngComputed").provider("$computed",[function(){var a=["$q",function(a){return function(b,c){a.when(b).then(c,c)}}],b=!1;this.provideExtractor=function(b){a=b},this.useDebug=function(a){b=a},this.$get=["$injector","$parse","$trackedEval","$log","$exceptionHandler",function(c,d,e,f,g){var h=c.invoke(a),i={},j=function(a,b,c,d){var e={};return angular.forEach(a,function(a,c){c in b?(e[c]=a,d&&(i[d][c]=a.scope.$eval(a.expr))):(a.deregister(),d&&i[d]&&delete i[d][c])}),angular.forEach(b,function(b,f){if(f in a);else{var g=function(){c()};switch(e[f]=b,b.type){case"equal":case"reference":b.deregister=b.scope.$watch(b.expr,g,"equal"==b.type);break;case"collection":b.deregister=b.scope.$watchCollection(b.expr,g);break;default:console.error("Unknown watch type: ",b.type," Not tracking dependency on: ",b.expr)}d&&(i[d][f]=b.scope.$eval(b.expr))}}),e},k=function(a,b,c,d,f){var k=c,l={};f&&(i[f]={});var m=function(){var c=e.trackDependencies.call(a,b,k);void 0===c.thrown?h(c.value,d):(h(void 0,d),g(c.thrown)),l=j(l,c.dependencies,m,f)};m();var n=function(){angular.isFunction(b.destroy)&&b.destroy(),j(l,{},null,f),f&&delete i[f]};return n.setArgs=function(a){angular.equals(k,a)||(k=angular.copy(a),m())},n},l=function(a,b,c,d,e,f){if(b.length-d==1)return k(a,b[d],e,function(a){c(a)},f&&f+"#"+d);var g=null,h=k(a,b[d],e,function(e){null===g?g=l(a,b,c,d+1,[e],f):g.setArgs([e])},f&&f+"#"+d),i=function(){g&&g(),h()};return i.setArgs=function(a){h.setArgs(a)},i},m=function(a,c){var e=this,f=d(a).assign,g=angular.isArray(c)?c:[c],h=l(e,g,function(a){f(e,a)},0,[],b?this.$id+"|"+a:null),i=this.$on("$destroy",function(){h()});return function(){i(),h()}};return m.dependencyGraph=function(){return b?i:null},m}]}])}(window,document),angular.module("ngComputed").provider("$trackedEval",[function(){var a="equal";this.setDefaultWatchType=function(b){if("equal"!=b&&"reference"!=b&&"collection"!=b)throw new Error("Cannot default to watch of type '"+b+"': unknown type");a=b},this.$get=["$parse",function(b){var c=null,d=function(a,b){var d=c;c={};try{return{value:a.apply(this,b),dependencies:c}}catch(e){return{thrown:e,dependencies:c}}finally{c=d}},e=function(a,d,e){if(c){if(angular.isFunction(a))throw new Error("Function used in $trackedEval while tracking dependencies. Instead, call the function and use $trackedEval internally.");c[this.$id+"|"+a+"|"+d]={scope:this,expr:a,type:d}}return b(a)(this,e)},f=function(a,b){return e.call(this,a,"equal",b)},g=function(a,b){return e.call(this,a,"reference",b)},h=function(a,b){return e.call(this,a,"collection",b)},i=function(a){a.$evalEqual=f,a.$evalReference=g,a.$evalCollection=h,a.trackDependencies=d,Object.defineProperty(a,"trackDependencies",{enumerable:!1})};if(i(f),i(g),i(h),"equal"==a)return f;if("reference"==a)return g;if("collection"==a)return h;throw new Error("Cannot create watch of default type '"+a+"': unknown type")}]}]);